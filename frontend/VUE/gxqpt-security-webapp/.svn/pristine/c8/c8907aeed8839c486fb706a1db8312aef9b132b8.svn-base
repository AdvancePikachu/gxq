/* 软硬件平台 */

import Vue from 'vue'
import Router from 'vue-router'
import store from '@/store'
// 咨询管理
import serverMgr from '@/view/softhard/youedata/serverMgr'// 国信优易-服务器管理
import applyMgr from '@/view/softhard/youedata/applyMgr'// 国信优易-申请管理
import hostInfoLook from '@/view/softhard/youedata/hostInfoLook'// 国信优易-主机信息查看
import basisDataMaintain from '@/view/softhard/youedata/basisDataMaintain'// 国信优易-基础数据维护
import server from '@/view/softhard/youedata/server' // 国信优易-服务器管理入口
import youedataServerDetail from '@/view/softhard/youedata/children/youedataServerDetail' // 国信优易-服务器详情
import editServer from '@/view/softhard/youedata/children/editServer' // 国信优易-服务器详情
import applyServerAdd from '@/view/softhard/youedata/children/applyServerAdd' // 国信优易-服务器新增申请
import applyDeal from '@/view/softhard/youedata/children/applyDeal' // 国信优易-申请处理
import resource from '@/view/softhard/youedata/children/resource' // 国信优易-资源需求配置
import allocation from '@/view/softhard/youedata/children/allocation' // 国信优易-分配资源
import applyCreate from '@/view/softhard/youedata/applyCreate' // 国信优易-分配资源
import applyDetail from '@/view/softhard/youedata/applyDetail' // 国信优易-分配资源
// 部门用户
import departmentServer from '@/view/softhard/department/departmentServer' // 部门用户-服务器管理
import departmentApply from '@/view/softhard/department/departmentApply' // 部门用户-申请管理
import department from '@/view/softhard/department/department' // 部门用户，服务器管理入口
import departmentCreate from '@/view/softhard/department/departmentCreate' // 部门用户-新增申请服务器
import departmentModify from '@/view/softhard/department/departmentModify' // 部门用户-配置更改
import departmentDetail from '@/view/softhard/department/departmentDetail' // 部门用户-列表详情
import departmentApplyDetail from '@/view/softhard/department/departmentApplyDetail' // 部门用户-申请详情
// 管理员
import admin from '@/view/softhard/admin/admin' // 管理员-入口
import adminServer from '@/view/softhard/admin/adminServer' // 管理员-服务器管理
import adminApply from '@/view/softhard/admin/adminApply' // 管理员-申请管理
import adminEngine from '@/view/softhard/admin/adminEngine' // 管理员-主机信息查看
import adminDetail from '@/view/softhard/admin/adminDetail' // 管理员-服务器详情
import adminCreate from '@/view/softhard/admin/adminCreate' // 管理员-新增申请服务器

// 高新翼云
import gxyyApply from '@/view/softhard/gxyy/gxyyApply' // 高新翼云-申请管理
import engineView from '@/view/softhard/gxyy/engineView' // 高新翼云-申请管理-查看详情
import engineDeal from '@/view/softhard/gxyy/engineDeal' // 高新翼云-申请管理-处理
import createEngine from '@/view/softhard/gxyy/createEngine' // 高新翼云-主机信息
import gxyyAdminEngine from '@/view/softhard/gxyy/adminEngine' // 高新翼云-主机信息管理

//common
import changeList from '@/view/softhard/common/changeList' // 变更列表

Vue.use(Router)

const softhardRouter =  new Router({
  routes: [
    {// 国信优易-服务器管理
      path: '/serverMgr',
      name: 'serverMgr',
      component: serverMgr
    },
    {// 服务器管理
      path: '/server',
      name: 'server',
      component: server,
      children: [{// 服务器详情
        path: 'detail/:serverId',
        name: 'detail',
        component: youedataServerDetail
      }, {// 修改服务器
        path: 'edit',
        name: 'edit',
        component: editServer
      }, {// 服务器新增申请
        path: 'addApply',
        name: 'addApply',
        component: applyServerAdd
      }, {// 申请处理
        path: 'applyDeal',
        name: 'applyDeal',
        component: applyDeal
      }, {// 资源需求配置
        path: 'resource',
        name: 'resource',
        component: resource
      }, {// 分配资源
        path: 'allocation',
        name: 'allocation',
        component: allocation
      }]
    },
    {// 国信优易-申请管理
      path: '/applyMgr',
      name: 'applyMgr',
      component: applyMgr,
    },
    {// 国信优易-主机信息查看
      path: '/applyCreate',
      name: 'applyCreate',
      component: applyCreate
    },
    {// 国信优易-主机信息查看
      path: '/hostInfoLook',
      name: 'hostInfoLook',
      component: hostInfoLook
    },
    {// 国信优易-基础数据维护
      path: '/basisDataMaintain',
      name: 'basisDataMaintain',
      component: basisDataMaintain
    },
    {// 国信优易-服务器详情
      path: '/applyDetail',
      name: 'applyDetail',
      component: applyDetail
    },
    {// 部门用户-服务器管理
      path: '/departmentServer',
      name: 'departmentServer',
      component: departmentServer
    },
    {// 部门用户-申请管理
      path: '/departmentApply',
      name: 'departmentApply',
      component: departmentApply
    },
    {// 部门用户
      path: '/department',
      name: 'department',
      component: department,
      children: [{// 新增
        path: 'create/:id',
        name: 'create',
        component: departmentCreate
      }, {// 配置更改
        path: 'modify/:id',
        name: 'modify',
        component: departmentModify
      }, {// 服务器详情
        path: 'detail',
        name: 'detail',
        component: departmentDetail
      }, {// 申请详情
        path: 'departmentApplyDetail',
        name: 'departmentApplyDetail',
        component: departmentApplyDetail
      }]
    },
    {// 管理员-服务器管理
      path: '/admin',
      name: 'admin',
      component: admin,
      children: [{
        path: 'server',
        name: 'server',
        component: adminServer
      }, {
        path: 'adminDetail',
        name: 'adminDetail',
        component: adminDetail
      }, {
        path: 'adminCreate/:id',
        name: 'adminCreate',
        component: adminCreate
      }]
    },
    {// 管理员-申请管理
      path: '/adminApply',
      name: 'adminApply',
      component: adminApply
    },
    {// 管理员-主机信息查看
      path: '/adminEngine',
      name: 'adminEngine',
      component: adminEngine
    },
    {// 高新翼云-申请管理
      path: '/gxyyApply',
      name: 'gxyyApply',
      component: gxyyApply
    },
    {// 高新翼云-主机信息管理
      path: '/gxyyAdminEngine',
      name: 'gxyyAdminEngine',
      component: gxyyAdminEngine
    },
    {// 高新翼云-主机信息管理-查看详情
      path: '/engineView/:keyid',
      name: 'engineView',
      component: engineView
    },
    {// 高新翼云-主机信息
      path: '/createEngine/:keyid',
      name: 'createEngine',
      component: createEngine
    },
    {// 高新翼云-主机信息管理-处理
      path: '/engineDeal/:keyid',
      name: 'engineDeal',
      component: engineDeal
    },
    {// 变更列表
	    path: '/changeList/:originId',
	    name: 'changeList',
	    component: changeList
	  },
  ]
})

softhardRouter.beforeEach((to, from, next) => {
  hy_auth_login("softhard");
  store.commit('GETUSERINFO');//设置用户信息
  store.dispatch('getAuthButton', to.query.resourceId);//获取权限按钮
	next()
})

export default softhardRouter
