<template>
	<div id="examine">
		<Form ref="engine" :model="engineData" :rules="ruleValidate" :label-width="100">
			<Row>
				<Col span="12">
				<FormItem label="主机IP：" prop="ip">
					<Input type="text" v-model="engineData.ip"> </Input>
				</FormItem>
				</Col>
				<Col span="12">
				<FormItem label="所属集群：" prop="cluster">
					<Input type="text" v-model="engineData.cluster"> </Input>
				</FormItem>
				</Col>
			</Row>
			<Row>
				<Col span="12">
				<FormItem label="型号：">
					<Input type="text" v-model="engineData.model"> </Input>
				</FormItem>
				</Col>
				<Col span="12">
				<FormItem label="处理器类型：">
					<Input type="text" v-model="engineData.cpuType"> </Input>
				</FormItem>
				</Col>
			</Row>
			<Row>
				<Col span="12">
				<FormItem label="处理器数量：" prop="cpuCount">
					<Input type="text" v-model.number="engineData.cpuCount"> </Input>
				</FormItem>
				</Col>
				<Col span="12">
				<FormItem label="内存大小：" prop="memory">
					<Input type="text" v-model.number="engineData.memory"> </Input>
				</FormItem>
				</Col>
			</Row>
			<Row>
				<Col span="12">
				<FormItem label="网卡数量：" prop="netcardCount">
					<Input type="text" v-model.number="engineData.netcardCount"> </Input>
				</FormItem>
				</Col>
				<Col span="12">
				<FormItem label="磁盘大小：" prop="diskSize">
					<Input type="text" v-model.number="engineData.diskSize"> </Input>
				</FormItem>
				</Col>
			</Row>
		</Form>
	</div>
</template>

<script>
	import api from '@/api/axiosApi'
	import softhardApiList from '@/api/softhardApiList'
	export default {
		data() {
			return {
				engineData: {},
				ruleValidate: {
					ip: [{
						required: true,
						message: '请填写IP地址！',
						trigger: 'blur'
					}],
					cluster: [{
						required: true,
						message: '请填写所属集群！',
						trigger: 'blur'
					}],
					cpuCount: [{
							required: true,
							type: 'number',
							message: '请填写处理器数量！',
							trigger: 'blur'
						},
					],
					memory: [{
						required: true,
						type: 'number',
						message: '请填写内存大小！',
						trigger: 'blur'
					}],
					netcardCount: [{
						required: true,
						type: 'number',
						message: '请填写网卡数量！',
						trigger: 'blur'
					}],
					diskSize: [{
						required: true,
						type: 'number',
						message: '请填写磁盘大小！',
						trigger: 'blur'
					}],
				},
			}
		},
		methods: {
			handleSubmit(name) {
				this.$refs[name].validate((valid) => {
					if(valid) {
						this.$emit('examine', this.engineData);
					}
				})
			},
			getMachineDetail(id) {
				api(softhardApiList.getMachineDetail, {id:id}).then((res) => {
					if(res.status == 200 && res.data.data) {
						this.engineData = res.data.data;
						this.engineData.diskSize = Number(res.data.data.diskSize);
					}
				}, (err) => {
					//dong something...
				})
			},
			reload() {
				this.engineData = {};
			},
		},
	}
</script>

<style>

</style>