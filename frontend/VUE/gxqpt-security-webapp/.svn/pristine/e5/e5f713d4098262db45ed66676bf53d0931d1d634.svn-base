<template>
	<div>
		<h3>故障详情</h3>
		<table class="tab">
			<tr>
				<th width="150">故障名称</th>
				<td>{{dataView.faultName}}</td>
				<th width="150">故障类别</th>
				<td>{{dataView.faultType}}</td>
			</tr>
			<tr>
				<th width="150">故障级别</th>
				<td>{{dataView.faultLevel}}</td>
				<th width="150">故障主机</th>
				<td>{{dataView.faultHost}}</td>
			</tr>
			<tr>
				<th width="150">系统名称</th>
				<td colspan="3">{{dataView.systemName}}</td>
			</tr>
			<tr>
				<th>故障简述</th>
				<td colspan="3">{{dataView.faultInfo}}</td>
			</tr>
		</table>
		<div v-if="isShowDeal">
			<h3>处理详情</h3>
			<table class="tab">
				<tr>
					<th width="150">是否属实</th>
					<td>{{dataView.isTrue|filterIsTrue}}</td>
				</tr>
			</table>
			<table class="tab" v-if="dataView.isTrue=='1'">
				<tr>
					<th width="150">处理人</th>
					<td>{{dataView.dealUser}}</td>
					<th width="150">职务</th>
					<td>{{dataView.maindutyname}}</td>
				</tr>
				<tr>
					<th>联系方式</th>
					<td>{{dataView.mainmobile}}</td>
					<th>主要负责系统</th>
					<td><span v-for="item in dataView.chargeSystemDTOS">{{item.systemName}}</span></td>
				</tr>
				<tr>
					<th>主要工作内容</th>
					<td colspan="3">{{dataView.content}}</td>
				</tr>
			</table>
			<table class="tab" v-if="dataView.isTrue=='2'">
				<tr>
					<th>理由</th>
					<td colspan="3">{{dataView.dealOpinion}}</td>
				</tr>
			</table>
		</div>
	</div>
</template>

<script>
	export default {
		props: ['dataView'],
		data() {
			return {
				isShowDeal:true,
			}
		},
		filters:{
			filterIsTrue(val){
				if(val=="1"){
					return "属实";
				}else{
					return "不属实";
				}
			}
		},
		methods:{
			isShowDealFun(){
				this.isShowDeal=false;
			}
		}
	}
</script>

<style lang="less" type="text/css" scoped>
h3{
	margin: 10px 0;
}
.tab{
	width: 100%;
	table-layout: fixed;
	border-collapse: collapse;
	border-spacing: 0;
	th{
		background: #f5f5f5;
		padding: 9px;
		border:1px solid #ddd;
	}
	td{
		padding: 9px;
		border:1px solid #ddd;
	}
}
</style>