/* 运维管理平台 */

import Vue from 'vue'
import Router from 'vue-router'
import store from '@/store'
// 运维文档管理
import operationPplMgr from '@/view/operation/operationPplMgr'// 运维人员管理
import docQuery from '@/view/operation/docOperation/docQuery'// 运维文档管理-运维文档查询-文档管理
import docClassify from '@/view/operation/docOperation/docClassify'// 运维文档管理-文档分类管理
// 故障管理
import ledger from '@/view/operation/stoppage/ledger'// 故障管理-故障台账
import myTask from '@/view/operation/stoppage/myTask'// 故障管理-我的任务
import monitor from '@/view/operation/stoppage/monitor'// 故障管理-故障监控
import repository from '@/view/operation/stoppage/repository'// 故障管理-知识库
import view from '@/view/operation/stoppage/view' // 故障管理-详情
// 接入管理
import accessList from '@/view/operation/access/accessList'// 接入管理-我的应用
import accessInfo from '@/view/operation/access/accessInfo'// 接入管理-部署信息
import accessUpgrade from '@/view/operation/access/accessUpgrade'// 接入管理-应用升级
import accessAnalyze from '@/view/operation/access/accessAnalyze'// 接入管理-应用分析
// 运维服务管理
import serviceApply from '@/view/operation/service/serviceApply'// 运维服务管理-服务申请
import serviceAudit from '@/view/operation/service/serviceAudit'// 运维服务管理-服务审核
import serviceDeal from '@/view/operation/service/serviceDeal'// 运维服务管理-服务处理
import serviceListMgr from '@/view/operation/service/serviceListMgr'// 运维服务管理-服务目录管理

import serviceView from '@/view/operation/service/serviceView'// 运维服务管理-服务详情页面
// 运维分析
import analyzeRate from '@/view/operation/analyze/analyzeRate'// 运维分析-运维评价
// 课程管理
import trainCourseList from '@/view/operation/trainMgr/trainCourseList'// 培训管理-培训课程目录
import trainList from '@/view/operation/trainMgr/trainList'// 培训管理-培训列表
import trainAudit from '@/view/operation/trainMgr/trainAudit'// 培训管理-培训审核
import trainDeal from '@/view/operation/trainMgr/trainDeal'// 培训管理-培训处理
import trainCourseMgr from '@/view/operation/trainMgr/trainCourseMgr'// 培训管理-培训课程管理
import trainDetail from '@/view/operation/trainMgr/trainDetail'// 培训管理-培训详情
// 咨询管理
import referApply from '@/view/operation/refer/referApply'// 咨询管理-咨询申请
import referCheck from '@/view/operation/refer/referCheck'// 咨询管理-咨询审核
import referHandle from '@/view/operation/refer/referHandle'// 咨询管理-咨询处理
import referDetail from '@/view/operation/refer/referDetail'// 咨询管理-咨询详情

Vue.use(Router)

const router = new Router({
  routes: [
    { // 运维人员管理-人员管理
      path: '/operationPplMgr',
      name: 'operationPplMgr',
      component: operationPplMgr
    },
    { // 运维文档管理-运维文档查询 以及 运维文档管理,manage为1时是管理
      path: '/docQuery/:manage',
      name: 'docQuery',
      component: docQuery
    },
    { // 运维文档管理-文档分类管理
      path: '/docClassify',
      name: 'docClassify',
      component: docClassify
    },
    { // 接入管理-我的应用
      path: '/accessList',
      name: 'accessList',
      component: accessList
    },
    {// 运维服务管理-服务申请
      path: '/serviceApply',
      name: 'serviceApply',
      component: serviceApply
    },
    {// 运维服务管理-服务审核
      path: '/serviceAudit',
      name: 'serviceAudit',
      component: serviceAudit
    },
    {// 运维服务管理-服务处理
      path: '/serviceDeal',
      name: 'serviceDeal',
      component: serviceDeal
    },
    {// 运维服务管理-服务目录管理
      path: '/serviceListMgr',
      name: 'serviceListMgr',
      component: serviceListMgr
    },
    /* {// 运维服务管理-服务详情页面
      path: '/serviceDetail/:id',
      name: 'serviceDetail',
      component: serviceDetail
    }, */
    {// 运维服务管理-服务详情页面
      path: '/serviceView/:id',
      name: 'serviceView',
      component: serviceView
    },
    { // 故障管理-故障台账
      path: '/ledger',
      name: 'ledger',
      component: ledger
    },
    { // 故障管理-我的任务
      path: '/myTask',
      name: 'myTask',
      component: myTask
    },
    { // 故障管理-故障监控
      path: '/monitor',
      name: 'monitor',
      component: monitor
    },
    { // 故障管理-知识库
      path: '/repository',
      name: 'repository',
      component: repository
    },
    { // 故障管理-详情
      path: '/stopDetail/:id',
      name: 'stopDetail',
      component: view
    },
    {// 接入管理-部署信息
      path: '/accessInfo',
      name: 'accessInfo',
      component: accessInfo
    },
    {// 接入管理-应用升级
      path: '/accessUpgrade',
      name: 'accessUpgrade',
      component: accessUpgrade
    },
    {// 接入管理-应用分析
      path: '/accessAnalyze',
      name: 'accessAnalyze',
      component: accessAnalyze
    },
    {// 运维分析-运维评价
      path: '/analyzeRate',
      name: 'analyzeRate',
      component: analyzeRate
    },
    {// 咨询管理-咨询申请
      path: '/referApply',
      name: 'referApply',
      component: referApply
    },
    {// 咨询管理-咨询审核
      path: '/referCheck',
      name: 'referCheck',
      component: referCheck
    },
    {// 咨询管理-咨询处理
      path: '/referHandle',
      name: 'referHandle',
      component: referHandle
    },
    {// 咨询管理-咨询详情
      path: '/referDetail/:id',
      name: 'referDetail',
      component: referDetail
    },
    {// 培训管理-培训课程目录
      path: '/trainCourseList',
      name: 'trainCourseList',
      component: trainCourseList
    },
    {// 培训管理-培训列表
      path: '/trainList',
      name: 'trainList',
      component: trainList
    },
    {// 培训管理-培训审核
      path: '/trainAudit',
      name: 'trainAudit',
      component: trainAudit
    },
    {// 培训管理-培训处理
      path: '/trainDeal',
      name: 'trainDeal',
      component: trainDeal
    },
    {// 培训管理-培训课程管理
      path: '/trainCourseMgr',
      name: 'trainCourseMgr',
      component: trainCourseMgr
    },
    {// 培训管理-培训详情页
      path: '/trainDetail/:id',
      name: 'trainDetail',
      component: trainDetail
    }
  ]
})

router.beforeEach((to, from, next) => {
  // debugger
  // if (to.matched.length === 0) {
  //   router.replace('/operationPplMgr')
  //   next(false)
  // }
  hy_auth_login('operation') // 登陆验证
  store.commit('GETUSERINFO') // 设置用户信息
  next()
})

export default router
