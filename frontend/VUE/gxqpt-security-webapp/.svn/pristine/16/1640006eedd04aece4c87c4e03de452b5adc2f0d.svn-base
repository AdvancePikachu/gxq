<template>
  <Layout>
    <Content>
      <Breadcrumb>
        <BreadcrumbItem>运维分析</BreadcrumbItem>
        <BreadcrumbItem>运维评价</BreadcrumbItem>
      </Breadcrumb>
      <Card>
        <Form
          ref="formValidate"
          inline
          :label-width="100"
          :model="searchCondition">
          <FormItem label="人员名称：">
            <Select v-model="searchCondition.person" style="width:200px">
              <Option v-for="item in personList" :value="item.value" :key="item.value">{{item.label}}</Option>
            </Select>
          </FormItem>
          <FormItem label="时间：">
            <Select v-model="searchCondition.time" style="width:200px">
              <Option v-for="item in timeList" :value="item.value" :key="item.value">{{item.label}}</Option>
            </Select>
          </FormItem>
        </Form>
        <Row>
          <Col span="4" :offset="0.5">
            <Gauge id="operationRate" :gaugeOption="gaugeOption" title="运维评分">
              <div id="operationRate"></div>
            </Gauge>
          </Col>
          <Col span="4" :offset="1">
            <Gauge id="appRate" :gaugeOption="gaugeOption" title="应用评分">
              <div id="appRate"></div>
            </Gauge>
          </Col>
          <Col span="4" :offset="1">
            <Gauge id="serviceRate" :gaugeOption="gaugeOption" title="服务评分">
              <div id="serviceRate"></div>
            </Gauge>
          </Col>
          <Col span="4" :offset="1">
            <Gauge id="trainingRate" :gaugeOption="gaugeOption" title="培训评分">
              <div id="trainingRate"></div>
            </Gauge>
          </Col>
          <Col span="4" :offset="0.5">
            <Gauge id="referRate" :gaugeOption="gaugeOption" title="咨询评分">
              <div id="referRate"></div>
            </Gauge>
          </Col>
        </Row>
        <Row>
          <Col span="10" :offset="1">
            <ChartLine id="historyRate" :lineOption="lineOption" title="历史评分分析">
              <div id="historyRate"></div>
            </ChartLine>
          </Col>
          <Col span="10" :offset="1">
            <Radar id="structureRate" :radarOption="radarOption" title="评分结构分析">
              <div id="structureRate"></div>
            </Radar>
          </Col>
        </Row>
      </Card>
    </Content>
  </Layout>
</template>

<script>
// 仪表盘
import Gauge from './../echarts/Gauge.vue'
// 折线
import ChartLine from './../echarts/ChartLine.vue'
// 雷达图
import Radar from './../echarts/Radar.vue'

const timeList = [{
  label: '最近一天',
  value: 1
}, {
  label: '最近一周',
  value: 2
}, {
  label: '最近一月',
  value: 3
}, {
  label: '最近一年',
  value: 4
}]

const personList = [{
  label: '人员1',
  value: 1
}, {
  label: '人员2',
  value: 2
}]

const gaugeOption = {
  tooltip: {
    formatter: 9999
  },
  series: [{
    name: '业务指标',
    type: 'gauge',
    detail: {formatter:'{value}%'},
    data: [{value: 50, name: '完成率'}]
  }]
}

const lineOption = {
  xAxis: {
    type: 'category',
    data: ['1', '2', '3', '4', '5', '6', '7']
  },
  series: [{
    data: [820, 600, 570, 409, 322, 310, 200],
    type: 'line'
  }]
}

const radarOption = {
  radar: {
    name: {
      textStyle: {
        color: '#fff',
        backgroundColor: '#999',
        borderRadius: 3,
        padding: [3, 5]
      }
    },
    indicator: [
      { name: '应用评分', max: 6500},
      { name: '咨询评分', max: 16000},
      { name: '培训评分', max: 30000},
      { name: '服务评分', max: 38000}
    ]
  },
  series: [{
    type: 'radar',
    data : [
      {
        value : [4300, 10000, 28000, 35000, 50000, 19000]
      },
      {
        value : [5000, 14000, 28000, 31000, 42000, 21000]
      }
    ]
  }]
}

export default {
  components: {
    Gauge,
    ChartLine,
    Radar
  },
  data () {
    return {
      gaugeOption,
      lineOption,
      radarOption,
      timeList,
      personList,
      searchCondition: {
        // 部署内容
        time: '',
        // 人员名称
        person: ''
      }
    }
  },
  methods: {
    search () {
      alert()
    }
  }
}
</script>

<style lang='less' scoped>
#operationRate, #appRate, #serviceRate, #trainingRate, #referRate, #historyRate, #structureRate{
  height: 200px;
}
</style>
