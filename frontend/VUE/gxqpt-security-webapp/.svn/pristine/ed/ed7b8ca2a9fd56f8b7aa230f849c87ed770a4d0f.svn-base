/* eslint-disable */
import Vue from 'vue'
import Vuex from 'vuex'
import apiList from '@/api/comApiList'
import api from '@/api/axiosApi'
Vue.use(Vuex)

const store = new Vuex.Store({
	state: {
		alertText: '',
		isAlert: false,
		userInfo: {
			tokenUrl: 'http://139.159.241.21:10086/api/auth/swagger-ui.html#!/auth-controller/testGetUserUsingGET', //请求token时使用到
			appSecret: 'security45aj6315', //请求token时使用到
			appId: '45aj6315', //请求token时使用到
			userId: '1',
			userName: 'admin',
			// 统一监管平台测试token
			// token: 'dt5Spf8Xrqn3DepyDZh6PjbOfKh7TK0yBjBYTQNrLQpSDJ2kLJXi5b6_2yj2r4lVnWhIheZehAPKrtZlPgtnpqNL5jDKzuhO5iXcrC2KnmNDtSFchUTyzLfbB_TUrINOhiLJJk6up0HLN58MrEjBlnVz6QHlvjBiBibNlvvstwfvnnXwReXxxAH8VKJXnllE8HpEH9ZGjr2ERePOzzDMftjLxRbABxN30DVVxQNdFQjGd2rqvyvHt9reTAxT8sD96cZgliXcPHxCpMFCtzB3Rsjo6pZArrVXRLDdZb0nHtp25V0O6sHJlMnM5qlAdinO0wTDBNJuRBTEFbzkZv0mZfBKtR5gjtHvNJTGvi4IrxLwHSrC07DbVzxCB_B8JjdDpo65xIlgnJtoPRtph3RYtdpvrOxIRrXjnmv_Zid70gnBfpfzdktpVKV5fnxNzt8YHlh4dR0mpWV0Hl8Q0UXfvyBJbwNTJpx78Y09tN5UBgnbjiZIhoHahirZPylr4K8bfcX4V.HpjHZtXdZR0bp.byP6VYblRPXxzTp9vltVbspPVpr6J2xvhAFNbeR8hCxAB_pwVyJUditdnmhK64pp41dp5wwjWnSw9.nUjz.7wTzvUn2_oz4B73nZta7Wrzd54smzva7oicwwj.eFwyiuokum4wqwRujVg74ukb55_G5U.nCTc517zER_9N0'
			// 软硬件测试token
			token: 'htnSR5xXvy41LehY0zhdPfb3dC67NO6k0JB1TA4zLAxSFJdk6ZXgnbdujyBL65lT8WXMJuJgnaPKrdFNPwtl6qNTjjLYbuL3ziHar7hIhuFftWbaLUTwxhfJF_8GzmNoJi8Fhst.r0pLdndO8ejbLjrjrQHhnjjy2irFnBvsvwnRlnlwzexvxIHfrKBJlhdGTH6Oja4GhjdExaTM8jHsrtN_PlH1hx03dz8fzmzdPC4D4_tspTlyrtNxTtTebohZ0YFKLXJaxzDmbodubVRGLnd1Pin5xOlcBmVMl5fSRmtOX9fZrBT2REdSP.Vw8cxU4Ibpbf2ETm0t4aRjH4fHt04BRmdadEVMJGjfXY6VPGxJ5CdNNG51VeLYTsbfpEbw0wF9JiDytBBMhX4vDm0ELeJYHInwLcDuBPD1V6RClYZs0lDevZjhHa6G6BtrbCDSBSXazMrPpwrBflx1lEXn2mBadWdYBxPkLKz6LefNHFXmDVFz5GNULsluLRdyLO0W2E4mhIjMh8XkjwfQBddJBOrezqdiTAZg6hvMnI5nlobBtWvt2Bpwf0tvffN1jkpst_0uteZ3fqLblylIbNpl4Slx75woW5C_o5FujzWzv8z__7235_VC.Wnz8a5u64E_1Ww7.753knv5jtek39Nugzq.o_.kWenFejTV3tW5Web.w.Zwf.w.5mR4_J0'
		},
		dataDictionary: {
			dbTypes: { //数据库类型（1 mysql，2 oracle，3 sqlserver，4 mongodb，5 hbase）
				1: 'mysql',
				2: 'oracle',
				3: 'sqlserver',
				4: 'mongodb',
				5: 'hbase'
			}
		},
		authButton: [],
		logoutUrl: 'http://192.168.1.251:10001/gxqpt-center', //退出登陆链接
	},
	mutations: {
		getUserInfo(state) {
			var obj = sessionStorage._token?JSON.parse(sessionStorage._token):{};
			obj.userId = obj.userid;
			state.userInfo = obj;
		},
		getAuthButton(state,resourceId) {
			var arr = [];
			if(sessionStorage._token){
				api(apiList.getOperateButton, {
					resourceId:resourceId,
					userId: JSON.parse(sessionStorage._token).userid
				}).then((res) => {
					if(res.data.errcode == 0){
						res.data.data.forEach(function(item){
							arr.push(item.code);
						})
						state.authButton = arr;
					}else{
						state.authButton = arr;
						this.$Message.error(res.data.errmsg);
					}
				})
			}
		}
	},
	actions: {},
	modules: {}
})

export default store